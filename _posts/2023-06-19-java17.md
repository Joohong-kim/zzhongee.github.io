---
layout: single
title: "Single Thread, Multi Thread"
show_date: true
categories: coding
tag: [Java, blog, jekyll]
author_profile: false
toc: true
---

## 1. 싱글스레드, 멀티스레드

멀티스레드 코드:

```java
class MyRunnable implements Runnable {
    public void run() {
        // 스레드가 실행할 작업 내용
        for (int i = 1; i <= 10; i++) {
            System.out.println("멀티스레드: " + i);
            try {
                Thread.sleep(1000); // 1초 대기
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}

public class MultiThreadExample {
    public static void main(String[] args) {
        MyRunnable myRunnable = new MyRunnable();
        Thread thread = new Thread(myRunnable);
        thread.start();

        // 메인 스레드의 작업
        for (int i = 1; i <= 10; i++) {
            System.out.println("메인 스레드: " + i);
            try {
                Thread.sleep(500); // 0.5초 대기
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}
```

싱글스레드 코드:

```java
public class SingleThreadExample {
    public static void main(String[] args) {
        // 메인 스레드의 작업
        for (int i = 1; i <= 10; i++) {
            System.out.println("싱글스레드: " + i);
            try {
                Thread.sleep(1000); // 1초 대기
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}
```

위의 코드에서 `MultiThreadExample`는 멀티스레드를 사용하여 작업을 동시에 처리하는 예제입니다. `MyRunnable` 클래스는 `Runnable` 인터페이스를 구현하여 스레드가 실행할 작업을 정의하고, 이를 `Thread` 객체에 전달하여 스레드를 생성하고 실행합니다. 메인 스레드와 생성한 스레드가 병행하여 작업을 수행합니다.

반면에 `SingleThreadExample`는 싱글스레드로 작업을 순차적으로 처리하는 예제입니다. 메인 스레드에서만 작업을 수행하며, 일정한 시간 간격으로 대기하면서 작업을 수행합니다.

멀티스레드 코드에서는 멀티스레드와 메인 스레드가 병행하여 작업을 처리하므로 출력 결과가 둘 다 섞여서 나타날 수 있습니다. 반면에 싱글스레드 코드에서는 메인 스레드만 작업을 처리하기 때문에 출력 결과가 순차적으로 나타납니다.

## 주요 차이점

싱글스레드와 멀티스레드의 주요 차이점은 다음과 같습니다:

1. 동시성: 싱글스레드는 한 번에 하나의 작업만을 처리하므로 동시에 여러 작업을 처리할 수 없습니다. 반면에 멀티스레드는 여러 개의 스레드를 생성하여 동시에 다수의 작업을 처리할 수 있습니다. 멀티스레드는 작업을 분할하고 동시에 실행함으로써 전체 작업 시간을 단축시킬 수 있습니다.

2. 자원 공유: 싱글스레드에서는 하나의 스레드가 작업을 처리할 때 다른 스레드가 해당 자원에 접근할 수 없습니다. 즉, 자원에 대한 접근을 동기화하거나 조절할 필요가 없습니다. 그러나 멀티스레드에서는 여러 스레드가 동시에 자원에 접근할 수 있기 때문에 공유 자원에 대한 동기화 및 조절이 필요합니다. 이를 위해 동기화 메커니즘과 스레드 간의 통신 기법을 사용합니다.

3. 복잡성과 안정성: 멀티스레드는 여러 개의 스레드를 관리하고 조율해야 하므로 코드가 복잡해질 수 있습니다. 또한, 동시에 여러 스레드가 실행되므로 스레드 간의 경합 조건(Race condition)과 교착상태(Deadlock)와 같은 문제가 발생할 수 있습니다. 이에 대한 적절한 처리와 관리가 필요합니다. 반면에 싱글스레드는 하나의 스레드만을 다루기 때문에 코드의 복잡성과 안정성 관리 측면에서는 상대적으로 간단합니다.

4. 성능: 멀티스레드는 병렬 처리를 통해 작업 시간을 단축시킬 수 있으므로 대부분의 경우 싱글스레드보다 빠른 성능을 보입니다. 하지만 스레드 간의 동기화와 관리 부담이 있을 수 있으며, 작업이 분할 가능하거나 동시에 실행 가능한 경우에 한해서 성능 향상을 기대할 수 있습니다.

{: .notice--danger}

<div class="notice--success">
멀티스레드는 여러 개의 스레드를 동시에 실행하여 병렬 처리와 성능 향상을 이룰 수 있습니다. 작업을 분할하고 각각의 스레드가 독립적으로 작업을 처리하므로 전체 작업 시간을 단축시킬 수 있습니다. 각 스레드는 독립적으로 실행되기 때문에 하나의 스레드에서 오류가 발생해도 다른 스레드는 영향을 받지 않아 안정적인 실행 환경을 제공할 수 있습니다. 또한, 멀티스레드는 다양한 작업을 동시에 처리할 수 있는 유연성을 제공하므로 다양한 비동기적 작업에 적합합니다. 하지만 멀티스레드는 스레드 간의 동기화와 관리, 경합 조건 및 교착상태 등의 문제에 대한 고려와 조치가 필요합니다. 따라서 코드의 복잡성이 증가하고 디버깅이 어려울 수 있으며, 스레드 간의 동기화 오버헤드와 경합 조건에 의한 성능 저하 가능성도 있습니다. 적절한 설계와 관리를 통해 멀티스레드의 장점을 최대한 활용하고 문제를 예방해야 합니다.

</div>
